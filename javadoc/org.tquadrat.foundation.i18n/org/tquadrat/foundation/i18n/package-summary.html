<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>org.tquadrat.foundation.i18n (Foundation i18n Library Module – org.tquadrat.foundation.i18n 0.1.0 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: module: org.tquadrat.foundation.i18n, package: org.tquadrat.foundation.i18n">
<meta name="generator" content="javadoc/PackageWriterImpl">
<meta name="keywords" content="org.tquadrat.foundation.i18n package">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="package-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header"><div style="overflow:auto;"><img src="../../../../../resources/tquadrat_logo.jpg" alt="tquadrat.org"style="float:right;"><div style="font-family:sans-serif;font-size:40px;font-weight:bold;padding-left:30px;"><p>tquadrat's <i>Foundation</i> Library<br>org.tquadrat.foundation.i18n 0.1.0 API</p></div>      </div>
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="../../../../module-summary.html">Module</a></li>
<li class="nav-bar-cell1-rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html#package">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Package:&nbsp;</li>
<li><a href="#package-description">Description</a>&nbsp;|&nbsp;</li>
<li>Related Packages&nbsp;|&nbsp;</li>
<li><a href="#class-summary">Classes and Interfaces</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<div class="header">
<div class="sub-title"><span class="module-label-in-package">Module</span>&nbsp;<a href="../../../../module-summary.html">org.tquadrat.foundation.i18n</a></div>
<h1 title="Package org.tquadrat.foundation.i18n" class="title">Package org.tquadrat.foundation.i18n</h1>
</div>
<hr>
<div class="package-signature">package <span class="element-name">org.tquadrat.foundation.i18n</span></div>
<section class="package-description" id="package-description">
<div class="block"><p>An API for the localisation (&quot;l10n&quot;, although this
  abbreviation is rarely used) or internationalisation (&quot;i18n&quot;) of
  an application (and, with some limitations, of a library). It provides
  annotations that allows to have multiple translations for a text directly
  in the source code. The annotation processor component provided with the
  project
  <a href="https://tquadrat.github.io/foundation-i18n-ap">org.tquadrat.foundation.i18n.ap</a>
  externalises these texts to regular resource bundle properties files.</p>
  <p>For the configuration of the annotation processor, refer to the
  documentation for that project.</p>

  <h2><a id="h2_i18n">Internationalisation of Texts and Messages</a></h2>
  <p>In Java, localisation or internationalisation is usually done by using
  an instance of
  <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ResourceBundle.html" title="class or interface in java.util" class="external-link"><code>ResourceBundle</code></a>
  that is retrieved by a call to
  <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ResourceBundle.html#getBundle(java.lang.String)" title="class or interface in java.util" class="external-link"><code>ResourceBundle.getBundle(String)</code></a>.
  It will load the texts for the currently active
  <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Locale.html" title="class or interface in java.util" class="external-link"><code>Locale</code></a>
  (see
  <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Locale.html#getDefault()" title="class or interface in java.util" class="external-link"><code>Locale.getDefault()</code></a>).</p>
  <p>There are several possible sources for the texts itself, but the most
  commonly used are Java properties files named following a special naming
  convention; for the file format refer to
  <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Properties.html" title="class or interface in java.util" class="external-link"><code>Properties</code></a>.</p>
  <p>The challenge is to update these properties files in parallel to writing
  the code, ensuring that the texts are really there when needed.</p>
  <p>As a solution, this library provides two annotations (plus three helper
  annotations) that are processed by an annotation processor to create the
  resource bundle properties files during compilation.</p>

  <h3><a id="h3_i18n_annotations">The Annotations for the I18N feature</a></h3>
  <p>The internationalisation feature provides six annotations in total:</p>
  <ul>
      <li><a href="#h4_basebundlename"><code>&#64;BaseBundleName</code></a></li>
      <li><a href="#h4_message"><code>&#64;Message</code></a></li>
      <li><a href="#h4_message_prefix"><code>&#64;MessagePrefix</code></a></li>
      <li><a href="#h4_text"><code>&#64;Text</code></a></li>
      <li><a href="#h4_translation"><code>&#64;Translation</code></a></li>
      <li><a href="#h4_useadditionaltexts"><code>&#64;UseAdditionalTexts</code></a></li>
  </ul>
  <p>The annotations <code>&#64;BaseBundleName</code> and
  <code>&#64;MessagePrefix</code> are used to configure the generation
  process, and <code>&#64;UseAdditionalTexts</code> provides the location for
  additional texts (refer to respective chapter
  <a href="#h3_additionaltexts">below</a>,
  while the remaining three do define a text or a message.</p>
  <p>The semantic differentiation between a <i>Text</i>and a <i>Message</i>
  is just high-handed: the assumption is that a message can be used freely at
  various locations in the code, while a text is unique for just one single
  context. This is reflected in the respective annotations.</p>

  <h4><a id="h4_basebundlename"></a><a href="BaseBundleName.html" title="annotation interface in org.tquadrat.foundation.i18n"><code>&#64;BaseBundleName</code></a></h4>
  <p>This annotation has to be applied to a <code>String</code> constant that
  holds the base bundle name; that name is basically a fully qualified Java
  class name, but it is not required (not even wanted) that this class
  exists.</p>
  <p>The annotation has two attributes:</p>
  <dl>
      <dt><a id="dt_default_language"><code>String defaultLanguage</code></a></dt>
      <dd><p>This is the ISO&nbsp;639-1two-letter-code for the default
      language; the resource bundle for this language is used when there is
      none for the current language or locale. Although it is said
      &quot;language&quot;, the value could be also a full fledged
      locale.</p>
      <p>The default value, that is used when the annotation was not applied,
      is &quot;<code>en</code>&quot;.</p></dd>
      <dt><code>boolean createResourceBundleProvider</code></dt>
      <dd><p>As the properties files for the resource bundles are resources that
      are now local to a module, a service is required to expose the resource
      bundle to other modules. This is done through an instance of
      <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/spi/ResourceBundleProvider.html" title="class or interface in java.util.spi" class="external-link"><code>ResourceBundleProvider</code></a>.</p>
      <p>This flag controls whether the annotation processor will generate
      such a resource bundle provider; the default is<code>false</code>.</p></dd>
  </dl>
  <p>If this annotation is not used at all, the constant
  <a href="I18nUtil.html#DEFAULT_BASEBUNDLENAME">"MessagesAndTexts"</a>
  will be used for the base bundle name, the locale
  <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Locale.html#ENGLISH" title="class or interface in java.util" class="external-link"><code>ENGLISH</code></a>
  is used as the default language and no resource bundle provider will be
  generated by the annotation processor.</p>
  <p>The use of this annotation may look like this:</p>

  <div class="source-container"><pre>  <span class="source-line-no">001</span>&hellip;
  <span class="source-line-no">002</span>&#47;**
  <span class="source-line-no">003</span> *  The base bundle name.
  <span class="source-line-no">004</span> *&#47;
  <span class="source-line-no">005</span>&#064;BaseBundleName( defaultLanguage = "de", createResourceBundleProvider = false )
  <span class="source-line-no">006</span>public static final String m_BaseBundleName = "com.test.Messages";
  <span class="source-line-no">007</span>
  <span class="source-line-no">008</span>&hellip;</pre></div>

  <p>When you are using the translations for German (de) and English (en),
  the annotation processor will generate the properties files
  <code>com/test/Messages.properties</code> (containing the German texts and
  being the default or fallback resource) and
  <code>com/test/Message_en.properties</code> (with the English texts).</p>

  <h4><a id="h4_message_prefix"></a><a href="MessagePrefix.html" title="annotation interface in org.tquadrat.foundation.i18n"><code>&#64;MessagePrefix</code></a></h4>
  <p>The keys for messages are numbers or short Strings that will be prefixed
  with the value of the <code>String</code> that is annotated with this
  annotation. That value should somehow identify the source module so that
  the origin of the message can be identified easily when it shows up on the
  user's screen.</p>
  <p>The annotation is used as in the sample below:</p>

  <div class="source-container"><pre>  <span class="source-line-no">001</span>&hellip;
  <span class="source-line-no">002</span>&#47;**
  <span class="source-line-no">003</span> *  The message prefix.
  <span class="source-line-no">004</span> *&#47;
  <span class="source-line-no">005</span>&#064;MessagePrefix
  <span class="source-line-no">006</span>public static final String m_MessagePrefix = "SFX";
  <span class="source-line-no">007</span>
  <span class="source-line-no">008</span>&hellip;</pre></div>

  <p>For the message id 1, this will generate the message key
  <code>SFX_000001</code>.</p>

  <h4><a id="h4_translation"></a><a href="Translation.html" title="annotation interface in org.tquadrat.foundation.i18n"><code>&#64;Translation</code></a></h4>
  <p>This annotation does make sense only in conjunction with the annotations
  <a href="#h4_message">&#64;Message</a>
  and
  <a href="#h4_text">&#64;Text</a>;
  it provides the concrete message text in its various translations.</p>
  <p>The annotation has the following attributes:</p>
  <dl>
      <dt><a id="dt_language"><code>String language</code></a></dt>
      <dd><p>This is the ISO&nbsp;639-1 two-letter-code for the language of the
      text; same as for the
      <a href="#dt_default_language">default language</a>
      this could be a full fledged locale String as well: think about the
      following case:</p>

  <div class="source-container"><pre>  <span class="source-line-no">001</span>&hellip;
  <span class="source-line-no">002</span>translations =
  <span class="source-line-no">003</span>{
  <span class="source-line-no">004</span>    &#064;Translation( language = "de", text = "Farbe" ),
  <span class="source-line-no">005</span>    &#064;Translation( language = "en", text = "Colour" ),
  <span class="source-line-no">006</span>    &#064;Translation( language = "en_US", text = "Color" )
  <span class="source-line-no">007</span>}
  <span class="source-line-no">008</span>&hellip;</pre></div>

      <p>Similar samples where the spelling differs from country to country
      even inside the same language do exist for several languages.</p></dd>
      <dt><code>String text</code></dt>
      <dd><p>This is the concrete text &ndash; or more correct, that is the
      <code>format</code> argument for a call to
      <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Formatter.html#format(java.lang.String,java.lang.Object...)" title="class or interface in java.util" class="external-link"><code>Formatter.format()</code></a>.
      This means that it may contain the &quot;%&hellip;&quot; placeholders
      that are defined by
      <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Formatter.html" title="class or interface in java.util" class="external-link"><code>Formatter</code></a>.</p>
      <p>If the text will contain more than one placeholder they should be
      numbered (like &quot;%1$s&quot;) because different translation may
      require different sequences for the arguments that should replace the
      placeholders; for details, refer to the documentation of
      <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Formatter.html" title="class or interface in java.util" class="external-link"><code>Formatter</code></a>.</p></dd>
 </dl>

  <h4><a id="h4_message"></a><a href="Message.html" title="annotation interface in org.tquadrat.foundation.i18n"><code>&#64;Message</code></a></h4>
  <p>This annotation, that will be applied to an <code>int</code> or
  <code>String</code> constant, defines the text for a message; the
  <code>description</code> attribute should describe the message context to allow
  translators to add further translations; the attribute <code>translations</code>
  contains the concrete texts as shown in the
  <a href="#dt_language">description for the <code>&#64;Translation</code>, above</a>.
  The whole thing may look like this:</p>

  <div class="source-container"><pre>  <span class="source-line-no">001</span>&hellip;
  <span class="source-line-no">002</span>&#64;Message
  <span class="source-line-no">003</span>(
  <span class="source-line-no">004</span>    description = "This message indicates that the socket could not be opened to listen on the given port",
  <span class="source-line-no">005</span>    translations =
  <span class="source-line-no">006</span>    {
  <span class="source-line-no">007</span>        &#64;Translation( language = "en", text = "Cannot open socket on port '%d'" ),
  <span class="source-line-no">008</span>        &#64;Translation( language = "de", text = "Socket kann auf Port '%d' nicht geöffnet werden" )
  <span class="source-line-no">009</span>    }
  <span class="source-line-no">010</span>)
  <span class="source-line-no">011</span>public static final int MSG_CannotOpenSocket = 1704;
  <span class="source-line-no">012</span>&hellip;</pre></div>

  <p>or</p>

  <div class="source-container"><pre>  <span class="source-line-no">021</span>&hellip;
  <span class="source-line-no">022</span>&#64;Message
  <span class="source-line-no">023</span>(
  <span class="source-line-no">024</span>    description = "This message indicates that the host with the given name does not respond in time",
  <span class="source-line-no">025</span>    translations =
  <span class="source-line-no">026</span>    {
  <span class="source-line-no">027</span>        &#64;Translation( language = "en", text = "Host '%1$s' does not respond within %2$d milliseconds" ),
  <span class="source-line-no">028</span>        &#64;Translation( language = "de", text = "Der Host '%1$s' hat nicht innerhalb von %2$d ms geantwortet" )
  <span class="source-line-no">029</span>    }
  <span class="source-line-no">039</span>)
  <span class="source-line-no">040</span>public static final String MSG_NoResponseFromHost = "NoResponseFromHost";
  <span class="source-line-no">041</span>&hellip;</pre></div>

  <p>The key for the resource bundle will be generated from <i>the contents of
  the constant</i> plus the
  <a href="#h4_message_prefix">message prefix</a>
  &ndash; this is different from the behaviour of the
  <a href="#h4_text"><code>&#64;Text</code> annotation</a>.</p>

  <h4><a id="h4_text"></a><a href="Text.html" title="annotation interface in org.tquadrat.foundation.i18n"><code>&#64;Text</code></a></h4>
  <p>Different from the
  <a href="#h4_message"><code>&#64;Message</code> annotation</a>,
  this annotation can be applied to any kind of field, not only to constants.
  It has the following attributes:</p>
  <dl>
      <dt><code>String description</code></dt>
      <dd><p>As for
      <a href="#h4_message"><code>&#64;Message</code></a>,
      this should give translators some hints on how to translate the text
      into the target language.</p></dd>
      <dt><code>String id</code></dt>
      <dd><p>This optional attribute is the resource bundle key for the text;
      if missing, that key will be derived <i>from the name</i> of the
      annotated field.</p></dd>
      <dt><code>boolean addClass</code></dt>
      <dd><p>If this flag is <code>true</code>, the resource bundle key will be
      prepended by the fully qualified name of the class that contains the
      annotated field.</p></dd>
      <dt><code>&#64;Translation [] translations</code></dt>
      <dd><p>These are the translations for the text, as already described
      <a href="#dt_language">above</a>.</p></dd>
  </dl>
  <p>The simplest form to use this annotation looks like this:</p>

  <div class="source-container"><pre>  <span class="source-line-no">021</span>&hellip;
  <span class="source-line-no">022</span>&#64;Text
  <span class="source-line-no">023</span>(
  <span class="source-line-no">024</span>    description = "The caption for the input field that takes the title of a book",
  <span class="source-line-no">025</span>    translations =
  <span class="source-line-no">026</span>    {
  <span class="source-line-no">027</span>        &#64;Translation( language = "en", text = "Book Title" ),
  <span class="source-line-no">028</span>        &#64;Translation( language = "de", text = "Buchtitel" )
  <span class="source-line-no">029</span>    }
  <span class="source-line-no">030</span>)
  <span class="source-line-no">031</span>private static final String CAPTION_BookTitle = I18nUtil.composeTextKey( BookEntryForm.class, TextUse.CAPTION, "BookTitle" );
  <span class="source-line-no">032</span>&hellip;</pre></div>

  <p>For the generation of the resource bundle properties files, the content
  of the field <code>CAPTION_BookTitle</code> is irrelevant, the key will be built from
  the fully qualified name of the class that contains the field and its
  <i>name</i>; but for the retrieval of the text, the contents of the field
  needs to match the generated key.</p>
  <p>The prefix <code>CAPTION</code> is defined in
  <a href="TextUse.html" title="enum class in org.tquadrat.foundation.i18n"><code>TextUse</code></a>
  and will be derived from the name of the field in this case. Alternatively,
  this form can be used that defines both <code>id</code> and <code>use</code>
  explicitly to get the same key:</p>

  <div class="source-container"><pre>  <span class="source-line-no">021</span>&hellip;
  <span class="source-line-no">022</span>&#64;Text
  <span class="source-line-no">023</span>(
  <span class="source-line-no">024</span>    description = "The caption for the input field that takes the title of a book",
  <span class="source-line-no">025</span>    id = "BookTitle",
  <span class="source-line-no">026</span>    use = TextUse.CAPTION,
  <span class="source-line-no">027</span>    translations =
  <span class="source-line-no">028</span>    {
  <span class="source-line-no">029</span>        &#64;Translation( language = "en", text = "Book Title" ),
  <span class="source-line-no">030</span>        &#64;Translation( language = "de", text = "Buchtitel" )
  <span class="source-line-no">031</span>    }
  <span class="source-line-no">032</span>)
  <span class="source-line-no">033</span>private static final String m_BookTitleCaption = I18nUtil.composeTextKey( BookEntryForm.class, TextUse.CAPTION, "BookTitle" );
  <span class="source-line-no">034</span>&hellip;</pre></div>

  <p>Sometimes, <code>enum</code> values should have a human readable
  representation that needs to be available in different translations. For an
  <code>enum</code> type named <code>Color</code> this would look like this:</p>

  <div class="source-container"><pre>  <span class="source-line-no">101</span>&hellip;
  <span class="source-line-no">102</span>public enum Color
  <span class="source-line-no">103</span>{
  <span class="source-line-no">104</span>    &#64;Text
  <span class="source-line-no">105</span>    (
  <span class="source-line-no">106</span>        description = "The colour 'red'",
  <span class="source-line-no">107</span>        translations =
  <span class="source-line-no">108</span>        {
  <span class="source-line-no">109</span>            &#64;Translation( language = "en", text = "red" ),
  <span class="source-line-no">110</span>            &#64;Translation( language = "de", text = "rot" )
  <span class="source-line-no">111</span>        }
  <span class="source-line-no">112</span>    )
  <span class="source-line-no">113</span>    RED,
  <span class="source-line-no">114</span>
  <span class="source-line-no">115</span>    &#64;Text
  <span class="source-line-no">116</span>    (
  <span class="source-line-no">117</span>        description = "The colour 'yellow'",
  <span class="source-line-no">118</span>        translations =
  <span class="source-line-no">119</span>        {
  <span class="source-line-no">120</span>            &#64;Translation( language = "en", text = "yellow" ),
  <span class="source-line-no">121</span>            &#64;Translation( language = "de", text = "gelb" )
  <span class="source-line-no">122</span>        }
  <span class="source-line-no">123</span>    )
  <span class="source-line-no">124</span>    YELLOW,
  <span class="source-line-no">125</span>
  <span class="source-line-no">141</span>    &hellip;
  <span class="source-line-no">142</span>
  <span class="source-line-no">143</span>    &#64;Override
  <span class="source-line-no">144</span>    public final toString()
  <span class="source-line-no">145</span>    {
  <span class="source-line-no">146</span>        var bundle = ResourceBundle.getBundle( BASE_BUNDLE_NAME );
  <span class="source-line-no">147</span>        var key = I18nUtil.composeTextKey( this );
  <span class="source-line-no">148</span>        var retValue = I18nUtil.retrieveText( bundle, key );
  <span class="source-line-no">149</span>
  <span class="source-line-no">150</span>        &#47;&#47;---* Done *-----------------------------------------------------------
  <span class="source-line-no">151</span>        return retValue;
  <span class="source-line-no">152</span>    }   &#47;&#47;  toString()
  <span class="source-line-no">153</span>}
  <span class="source-line-no">154</span>//  enum Color
  <span class="source-line-no">155</span>&hellip;</pre></div>

  <p>The argument for the call to
  <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ResourceBundle.html#getString(java.lang.String)" title="class or interface in java.util" class="external-link"><code>ResourceBundle.getString()</code></a>
  can be calculated as</p>
  <pre><code>Color.class.getName() + ".STRING_" + getName();</code></pre>
  <p>This can be used for the implementation of <code>Color.toString()</code> as
  shown in the sample.</p>
  <p>Finally, the annotation can be applied to an arbitrary method, preferred
  to a <i>getter</i>. This can be used to provide usage texts for the
  definition of options and arguments, among other possibilities. The sample
  below assumes that the method <code>getOwner()</code> belongs to the interface
  <code>com.sample.Example</code>:</p>

  <div class="source-container"><pre>  <span class="source-line-no">201</span>&hellip;
  <span class="source-line-no">202</span>&#64;Text
  <span class="source-line-no">203</span>(
  <span class="source-line-no">204</span>    description = "The name of the property 'owner'",
  <span class="source-line-no">205</span>    translations =
  <span class="source-line-no">206</span>    {
  <span class="source-line-no">207</span>        &#64;Translation( language = "en", text = "Proprietor/Proprietress" ),
  <span class="source-line-no">208</span>        &#64;Translation( language = "de", text = "Eigentümer/Eigentümerin" )
  <span class="source-line-no">209</span>    }
  <span class="source-line-no">210</span>)
  <span class="source-line-no">211</span>&#64;Text
  <span class="source-line-no">212</span>(
  <span class="source-line-no">213</span>    description = "The caption for the property 'owner'",
  <span class="source-line-no">214</span>    use = TextUse.CAPTION,
  <span class="source-line-no">215</span>    translations =
  <span class="source-line-no">216</span>    {
  <span class="source-line-no">217</span>        &#64;Translation( language = "en", text = "Proprietor (Lastname, Firstname): " ),
  <span class="source-line-no">218</span>        &#64;Translation( language = "de", text = "Eigentümer (Hausname, Vorname): " )
  <span class="source-line-no">219</span>    }
  <span class="source-line-no">220</span>)
  <span class="source-line-no">221</span>&#64;Text
  <span class="source-line-no">222</span>(
  <span class="source-line-no">223</span>    description = "The tooltip for the property 'owner'",
  <span class="source-line-no">224</span>    use = TextUse.TOOLTIP,
  <span class="source-line-no">225</span>    translations =
  <span class="source-line-no">226</span>    {
  <span class="source-line-no">227</span>        &#64;Translation( language = "en", text = "The name of the proprietor" ),
  <span class="source-line-no">228</span>        &#64;Translation( language = "de", text = "Der Name des Eigentümers" )
  <span class="source-line-no">229</span>    }
  <span class="source-line-no">230</span>)
  <span class="source-line-no">231</span>&#64;Text
  <span class="source-line-no">232</span>(
  <span class="source-line-no">233</span>    description = "The usage text for the property 'owner'",
  <span class="source-line-no">234</span>    use = TextUse.USAGE,
  <span class="source-line-no">235</span>    translations =
  <span class="source-line-no">236</span>    {
  <span class="source-line-no">237</span>        &#64;Translation( language = "en", text = "The name of the proprietor" ),
  <span class="source-line-no">238</span>        &#64;Translation( language = "de", text = "Der Name des Eigentümers" )
  <span class="source-line-no">239</span>    }
  <span class="source-line-no">240</span>)
  <span class="source-line-no">241</span>&#64;Option( name = "-o", aliases = {"--owner", "--proprietor"}, metavar = "NAME", usage = "The name of the proprietor", usageKey = "com.sample.Example.USAGE_Owner" )
  <span class="source-line-no">242</span>public String getOwner();
  <span class="source-line-no">243</span>&hellip;</pre></div>

  <p>The generated resource bundle keys for the texts are:</p>
  <ul>
      <li><code>com.sample.Example.NAME_Owner</code></li>
      <li><code>com.sample.Example.CAPTION_Owner</code></li>
      <li><code>com.sample.Example.TOOLTIP_Owner</code></li>
      <li><code>com.sample.Example.USAGE_Owner</code></li>
  </ul>
  <p>This works because <code>com.sample.Example.getOwner()</code> is a
  <i>getter</i> method and the name of the property (&quot;owner&quot;) will
  be taken as the id.</p>
  <p>For method that are not getters, setters or &quot;add&quot; methods,
  <code>id</code> and <code>use</code> have to be set explicitly, otherwise an
  exception is thrown by the annotation processor.</p>
  <p>It is a bit clumsy that the generated key has to be guessed for the
  value of the <code>usageKey</code> attribute of the <code>@Option</code> and
  <code>@Argument</code> annotations (defined in <code>config</code> module). This is
  because the annotation processor cannot modify existing source code, and
  because annotation attributes do allow only compile time constants as
  values. That's also the reason why the resource bundle keys have to be
  generated from the annotation attributes, instead of taking the value of
  the field.</p>

  <h3><a id="h3_additionaltexts">Additional Texts</a></h3>
  <p>Sometimes it is not feasible or just not wanted to define the messages
  and texts as annotations to fields or methods. This is quite often the
  case for longer texts, like help output, or for the texts used to build a
  (G)UI.</p>
  <p>To address this, texts can be defined in file named
  <a href="I18nUtil.html#ADDITIONAL_TEXT_FILE">"AdditionalTexts.xml"</a>.
  This file can be located in the root of the source tree, but its location
  can be also configured through the annotation processor option
  <a href="I18nUtil.html#ADDITIONAL_TEXT_LOCATION">"org.tquadrat.foundation.i18n.ap.textLocation"</a>,
  or it can be provided through the annotation
  <a href="UseAdditionalTexts.html" title="annotation interface in org.tquadrat.foundation.i18n"><code>&#64;UseAdditionalTexts</code></a>.</p>
  <p>That file has to comply the DTD below, defined in
  <code>AdditionalText.dtd</code>.</p>
  <h4>AdditionalText.dtd</h4>
  <p><div class="source-container"><pre><span class="source-line-no">01</span>&lt;?xml version=&quot;1.0&quot;
<span class="source-line-no">02</span>      encoding=&quot;UTF-8&quot;?&gt;
<span class="source-line-no">03</span>
<span class="source-line-no">04</span>&lt;!--
<span class="source-line-no">05</span>  - ============================================================================
<span class="source-line-no">06</span>  -  Copyright &copy; 2002-2021 by Thomas Thrien.
<span class="source-line-no">07</span>  -  All Rights Reserved.
<span class="source-line-no">08</span>  - ============================================================================
<span class="source-line-no">09</span>  -  Licensed to the public under the agreements of the GNU Lesser General Public
<span class="source-line-no">10</span>  -  License, version 3.0 (the &quot;License&quot;). You may obtain a copy of the License at
<span class="source-line-no">11</span>  -
<span class="source-line-no">12</span>  -       http://www.gnu.org/licenses/lgpl.html
<span class="source-line-no">13</span>  -
<span class="source-line-no">14</span>  -  Unless required by applicable law or agreed to in writing, software
<span class="source-line-no">15</span>  -  distributed under the License is distributed on an &quot;AS IS&quot; BASIS, WITHOUT
<span class="source-line-no">16</span>  -  WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
<span class="source-line-no">17</span>  -  License for the specific language governing permissions and limitations
<span class="source-line-no">18</span>  -  under the License.
<span class="source-line-no">19</span>  --&gt;
<span class="source-line-no">20</span>&lt;!-- $Id: AdditionalText.dtd 887 2021-03-28 19:25:19Z tquadrat $ --&gt;
<span class="source-line-no">21</span>
<span class="source-line-no">22</span>&lt;!ELEMENT description ( #PCDATA )&gt;
<span class="source-line-no">23</span>
<span class="source-line-no">24</span>&lt;!ELEMENT text (description, translation&plus;)&gt;
<span class="source-line-no">25</span>&lt;!ATTLIST text
<span class="source-line-no">26</span>    key ID #REQUIRED&gt;
<span class="source-line-no">27</span>&lt;!ELEMENT texts (text*)&gt;
<span class="source-line-no">28</span>
<span class="source-line-no">29</span>&lt;!ELEMENT translation ( #PCDATA )&gt;
<span class="source-line-no">30</span>&lt;!ATTLIST translation
<span class="source-line-no">31</span>    language CDATA #REQUIRED&gt;
<span class="source-line-no">32</span>
<span class="source-line-no">33</span>&lt;!-- End of File --&gt;
</pre></div></p></div>
</section>
<section class="summary">
<ul class="summary-list">
<li>
<div id="class-summary">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="class-summary-tab0" role="tab" aria-selected="true" aria-controls="class-summary.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary', 2)" class="active-table-tab">All Classes and Interfaces</button><button id="class-summary-tab2" role="tab" aria-selected="false" aria-controls="class-summary.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary-tab2', 2)" class="table-tab">Classes</button><button id="class-summary-tab3" role="tab" aria-selected="false" aria-controls="class-summary.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary-tab3', 2)" class="table-tab">Enum Classes</button><button id="class-summary-tab7" role="tab" aria-selected="false" aria-controls="class-summary.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary-tab7', 2)" class="table-tab">Annotation Interfaces</button></div>
<div id="class-summary.tabpanel" role="tabpanel">
<div class="summary-table two-column-summary" aria-labelledby="class-summary-tab0">
<div class="table-header col-first">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color class-summary class-summary-tab7"><a href="BaseBundleName.html" title="annotation interface in org.tquadrat.foundation.i18n">BaseBundleName</a></div>
<div class="col-last even-row-color class-summary class-summary-tab7">
<div class="block">This annotation is used to mark a String constant that holds
  the base bundle name for the resource bundle for the messages and texts.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="I18nUtil.html" title="class in org.tquadrat.foundation.i18n">I18nUtil</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Utilities that are related to the i18n feature.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab7"><a href="Message.html" title="annotation interface in org.tquadrat.foundation.i18n">Message</a></div>
<div class="col-last even-row-color class-summary class-summary-tab7">
<div class="block">Use this annotation to define the text for a message that has
  to be translated. Texts for UI elements or alike will be defined with the
  annotation
  <a href="Text.html" title="annotation interface in org.tquadrat.foundation.i18n"><code>Text</code></a>.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab7"><a href="MessagePrefix.html" title="annotation interface in org.tquadrat.foundation.i18n">MessagePrefix</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab7">
<div class="block">The annotation is used to mark a String constant that holds
  the message prefix for the generated messages.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab7"><a href="Text.html" title="annotation interface in org.tquadrat.foundation.i18n">Text</a></div>
<div class="col-last even-row-color class-summary class-summary-tab7">
<div class="block">Use this annotation to define a text &ndash; usually for a UI
  element or alike &ndash; that has to be translated.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab7"><a href="Texts.html" title="annotation interface in org.tquadrat.foundation.i18n">Texts</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab7">
<div class="block">The container annotation for repeated
  <a href="Text.html" title="annotation interface in org.tquadrat.foundation.i18n"><code>&#64;Text</code></a>
  annotations.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab3"><a href="TextUse.html" title="enum class in org.tquadrat.foundation.i18n">TextUse</a></div>
<div class="col-last even-row-color class-summary class-summary-tab3">
<div class="block">The uses for a text.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab7"><a href="Translation.html" title="annotation interface in org.tquadrat.foundation.i18n">Translation</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab7">
<div class="block">Use this annotation to define a text for a message or a UI
  element that has to be translated.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab7"><a href="UseAdditionalTexts.html" title="annotation interface in org.tquadrat.foundation.i18n">UseAdditionalTexts</a></div>
<div class="col-last even-row-color class-summary class-summary-tab7">
<div class="block">This optional annotation provides the location for the file
  <a href="I18nUtil.html#ADDITIONAL_TEXT_FILE">"AdditionalTexts.xml"</a>
  if that is not stored at the default locations</div>
</div>
</div>
</div>
</div>
</li>
</ul>
</section>
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright © 2002-2022 by Thomas Thrien (tquadrat.org)</small></p>
</footer>
</div>
</div>
</body>
</html>
